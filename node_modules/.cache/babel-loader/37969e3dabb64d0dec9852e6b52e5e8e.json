{"ast":null,"code":"var _jsxFileName = \"/home/pawel/Schreibtisch/todos/todo/src/components/ToDoContainer.js\";\nimport React from 'react';\nimport TodoItem from \"./TodoItem/TodoItem\";\nimport Header from \"./Header\";\nimport Form from \"./InputTodo/InputTodo\";\nimport DeleteAll from \"./DeleteAll\";\nimport Stats from \"./Stats\";\nimport axios from \"axios\";\nconst link = `/todos`;\n\nclass TodoContainer extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      todos: [],\n      isLoading: false,\n      showStats: false\n    };\n\n    this.onChangeCheckbox = _id => {\n      const updatedTodosArr = this.state.todos.map(todo => {\n        if (todo._id === _id) {\n          todo.completed = !todo.completed;\n        }\n\n        return todo;\n      });\n      this.setState({\n        todos: updatedTodosArr\n      });\n      axios.put(`${link}/${_id}`, {\n        completed: true,\n        endTime: new Date()\n      }).then(response => {\n        axios.get(link).then(response => {\n          let data = response.data;\n          this.setState({\n            todos: data,\n            isLoading: false\n          });\n        });\n      });\n    };\n\n    this.deleteTodoHandler = _id => {\n      this.setState({\n        isLoading: true\n      });\n      axios.delete(`${link}/${_id}`).then(response => {\n        const deleteTodosArr = this.state.todos.filter(todo => todo._id !== response.data._id);\n        this.setState({\n          todos: deleteTodosArr,\n          isLoading: false\n        });\n      });\n    };\n\n    this.addTodo = newItem => {\n      this.setState({\n        isLoading: true\n      });\n      let newItemUpdate = {\n        title: newItem,\n        completed: false,\n        comment: \"\"\n      };\n      axios.post(link, { ...newItemUpdate\n      }).then(response => {\n        axios.get(link).then(response => {\n          let data = response.data;\n          this.setState({\n            todos: data,\n            isLoading: false\n          });\n        });\n      });\n    };\n\n    this.deleteAll = _id => {\n      this.state.todos.map(todo => {\n        this.setState({\n          isLoading: true\n        });\n        axios.delete(`${link}/${todo._id}`).then(response => {\n          const deleteTodosArr = this.state.todos.filter(todo => todo._id !== response.data._id);\n          this.setState({\n            todos: deleteTodosArr,\n            isLoading: false\n          });\n        });\n        return todo;\n      });\n    };\n\n    this.statsAll = () => {\n      let allTask = this.state.todos.length;\n      return allTask;\n    };\n\n    this.statsSuccess = () => {\n      let successTask = 0;\n      this.state.todos.map(todo => {\n        if (todo.completed) {\n          successTask += 1;\n        }\n\n        return successTask;\n      });\n      return successTask;\n    };\n\n    this.onChangeContainer = () => {};\n  }\n\n  componentDidMount() {\n    axios.get(link).then(response => {\n      let data = response.data;\n      this.setState({\n        todos: data\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      style: this.state.isLoading ? {\n        opacity: 0.3\n      } : null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Stats, {\n      statsAll: this.statsAll,\n      statsSuccess: this.statsSuccess,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Form, {\n      addTodo: this.addTodo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }\n    }, this.state.todos.map(todo => /*#__PURE__*/React.createElement(TodoItem, {\n      key: todo._id,\n      _id: todo._id,\n      title: todo.title,\n      completed: todo.completed,\n      handleChange: this.onChangeCheckbox,\n      deleteTodoHandler: this.deleteTodoHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(DeleteAll, {\n      deleteAll: this.deleteAll,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default TodoContainer;","map":{"version":3,"sources":["/home/pawel/Schreibtisch/todos/todo/src/components/ToDoContainer.js"],"names":["React","TodoItem","Header","Form","DeleteAll","Stats","axios","link","TodoContainer","Component","state","todos","isLoading","showStats","onChangeCheckbox","_id","updatedTodosArr","map","todo","completed","setState","put","endTime","Date","then","response","get","data","deleteTodoHandler","delete","deleteTodosArr","filter","addTodo","newItem","newItemUpdate","title","comment","post","deleteAll","statsAll","allTask","length","statsSuccess","successTask","onChangeContainer","componentDidMount","render","opacity"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,IAAI,GAAI,QAAd;;AAEA,MAAMC,aAAN,SAA4BR,KAAK,CAACS,SAAlC,CAA4C;AAAA;AAAA;AAAA,SAE1CC,KAF0C,GAElC;AACNC,MAAAA,KAAK,EAAE,EADD;AAGNC,MAAAA,SAAS,EAAE,KAHL;AAINC,MAAAA,SAAS,EAAE;AAJL,KAFkC;;AAAA,SAqB1CC,gBArB0C,GAqBtBC,GAAD,IAAS;AAC1B,YAAMC,eAAe,GAAG,KAAKN,KAAL,CAAWC,KAAX,CAAiBM,GAAjB,CAAqBC,IAAI,IAAI;AACnD,YAAIA,IAAI,CAACH,GAAL,KAAaA,GAAjB,EAAsB;AACpBG,UAAAA,IAAI,CAACC,SAAL,GAAiB,CAACD,IAAI,CAACC,SAAvB;AACD;;AACD,eAAOD,IAAP;AACD,OALuB,CAAxB;AAMA,WAAKE,QAAL,CAAc;AACZT,QAAAA,KAAK,EAAEK;AADK,OAAd;AAGAV,MAAAA,KAAK,CAACe,GAAN,CAAW,GAAEd,IAAK,IAAGQ,GAAI,EAAzB,EAA4B;AAAEI,QAAAA,SAAS,EAAE,IAAb;AAAmBG,QAAAA,OAAO,EAAE,IAAIC,IAAJ;AAA5B,OAA5B,EACGC,IADH,CAEIC,QAAQ,IAAI;AACVnB,QAAAA,KAAK,CAACoB,GAAN,CAAUnB,IAAV,EACGiB,IADH,CAEIC,QAAQ,IAAI;AACV,cAAIE,IAAI,GAAGF,QAAQ,CAACE,IAApB;AACA,eAAKP,QAAL,CAAc;AACZT,YAAAA,KAAK,EAAEgB,IADK;AAEZf,YAAAA,SAAS,EAAE;AAFC,WAAd;AAID,SARL;AAUD,OAbL;AAgBD,KA/CyC;;AAAA,SAiD1CgB,iBAjD0C,GAiDrBb,GAAD,IAAS;AAC3B,WAAKK,QAAL,CAAc;AAAER,QAAAA,SAAS,EAAE;AAAb,OAAd;AACAN,MAAAA,KAAK,CAACuB,MAAN,CAAc,GAAEtB,IAAK,IAAGQ,GAAI,EAA5B,EACGS,IADH,CAEIC,QAAQ,IAAI;AACV,cAAMK,cAAc,GAAG,KAAKpB,KAAL,CAAWC,KAAX,CAAiBoB,MAAjB,CAAwBb,IAAI,IAAIA,IAAI,CAACH,GAAL,KAAaU,QAAQ,CAACE,IAAT,CAAcZ,GAA3D,CAAvB;AACA,aAAKK,QAAL,CAAc;AACZT,UAAAA,KAAK,EAAEmB,cADK;AAEZlB,UAAAA,SAAS,EAAE;AAFC,SAAd;AAID,OARL;AAUD,KA7DyC;;AAAA,SA8D1CoB,OA9D0C,GA8D/BC,OAAD,IAAa;AACrB,WAAKb,QAAL,CAAc;AAAER,QAAAA,SAAS,EAAE;AAAb,OAAd;AACA,UAAIsB,aAAa,GAAG;AAClBC,QAAAA,KAAK,EAAEF,OADW;AAElBd,QAAAA,SAAS,EAAE,KAFO;AAGlBiB,QAAAA,OAAO,EAAE;AAHS,OAApB;AAKA9B,MAAAA,KAAK,CAAC+B,IAAN,CAAW9B,IAAX,EAAiB,EAAE,GAAG2B;AAAL,OAAjB,EACGV,IADH,CAEIC,QAAQ,IAAI;AACVnB,QAAAA,KAAK,CAACoB,GAAN,CAAUnB,IAAV,EACGiB,IADH,CAEIC,QAAQ,IAAI;AACV,cAAIE,IAAI,GAAGF,QAAQ,CAACE,IAApB;AACA,eAAKP,QAAL,CAAc;AACZT,YAAAA,KAAK,EAAEgB,IADK;AAEZf,YAAAA,SAAS,EAAE;AAFC,WAAd;AAID,SARL;AAUD,OAbL;AAeD,KApFyC;;AAAA,SAqF1C0B,SArF0C,GAqF7BvB,GAAD,IAAS;AACnB,WAAKL,KAAL,CAAWC,KAAX,CAAiBM,GAAjB,CAAqBC,IAAI,IAAI;AAC3B,aAAKE,QAAL,CAAc;AAAER,UAAAA,SAAS,EAAE;AAAb,SAAd;AACAN,QAAAA,KAAK,CAACuB,MAAN,CAAc,GAAEtB,IAAK,IAAGW,IAAI,CAACH,GAAI,EAAjC,EACGS,IADH,CAEIC,QAAQ,IAAI;AACV,gBAAMK,cAAc,GAAG,KAAKpB,KAAL,CAAWC,KAAX,CAAiBoB,MAAjB,CAAwBb,IAAI,IAAIA,IAAI,CAACH,GAAL,KAAaU,QAAQ,CAACE,IAAT,CAAcZ,GAA3D,CAAvB;AACA,eAAKK,QAAL,CAAc;AACZT,YAAAA,KAAK,EAAEmB,cADK;AAEZlB,YAAAA,SAAS,EAAE;AAFC,WAAd;AAID,SARL;AAUA,eAAOM,IAAP;AACD,OAbD;AAcD,KApGyC;;AAAA,SAqG1CqB,QArG0C,GAqG/B,MAAM;AACf,UAAIC,OAAO,GAAG,KAAK9B,KAAL,CAAWC,KAAX,CAAiB8B,MAA/B;AACA,aAAOD,OAAP;AACD,KAxGyC;;AAAA,SAyG1CE,YAzG0C,GAyG3B,MAAM;AACnB,UAAIC,WAAW,GAAG,CAAlB;AACA,WAAKjC,KAAL,CAAWC,KAAX,CAAiBM,GAAjB,CAAqBC,IAAI,IAAI;AAC3B,YAAIA,IAAI,CAACC,SAAT,EAAoB;AAClBwB,UAAAA,WAAW,IAAI,CAAf;AACD;;AACD,eAAOA,WAAP;AACD,OALD;AAMA,aAAOA,WAAP;AACD,KAlHyC;;AAAA,SAmH1CC,iBAnH0C,GAmHtB,MAAM,CAGzB,CAtHyC;AAAA;;AAS1CC,EAAAA,iBAAiB,GAAG;AAElBvC,IAAAA,KAAK,CAACoB,GAAN,CAAUnB,IAAV,EACGiB,IADH,CAEIC,QAAQ,IAAI;AACV,UAAIE,IAAI,GAAGF,QAAQ,CAACE,IAApB;AACA,WAAKP,QAAL,CAAc;AACZT,QAAAA,KAAK,EAAEgB;AADK,OAAd;AAGD,KAPL;AASD;;AAmGDmB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAA2B,MAAA,KAAK,EAAE,KAAKpC,KAAL,CAAWE,SAAX,GAAuB;AAAEmC,QAAAA,OAAO,EAAE;AAAX,OAAvB,GAA0C,IAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAE,KAAF;AACE,MAAA,QAAQ,EAAE,KAAKR,QADjB;AAEE,MAAA,YAAY,EAAE,KAAKG,YAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAME,oBAAC,IAAD;AAAM,MAAA,OAAO,EAAE,KAAKV,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI,KAAKtB,KAAL,CAAWC,KAAX,CAAiBM,GAAjB,CAAqBC,IAAI,iBACvB,oBAAC,QAAD;AACE,MAAA,GAAG,EAAEA,IAAI,CAACH,GADZ;AAEE,MAAA,GAAG,EAAEG,IAAI,CAACH,GAFZ;AAGE,MAAA,KAAK,EAAEG,IAAI,CAACiB,KAHd;AAIE,MAAA,SAAS,EAAEjB,IAAI,CAACC,SAJlB;AAKE,MAAA,YAAY,EAAE,KAAKL,gBALrB;AAME,MAAA,iBAAiB,EAAE,KAAKc,iBAN1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFJ,CAPF,eAqBE,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAE,KAAKU,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArBF,CADF;AAyBD;;AAjJyC;;AAoJ5C,eAAe9B,aAAf","sourcesContent":["import React from 'react';\nimport TodoItem from \"./TodoItem/TodoItem\";\nimport Header from \"./Header\";\nimport Form from \"./InputTodo/InputTodo\"\nimport DeleteAll from \"./DeleteAll\"\nimport Stats from \"./Stats\"\nimport axios from \"axios\";\n\nconst link = `/todos`;\n\nclass TodoContainer extends React.Component {\n\n  state = {\n    todos: [\n    ],\n    isLoading: false,\n    showStats: false\n  }\n\n  componentDidMount() {\n\n    axios.get(link)\n      .then(\n        response => {\n          let data = response.data\n          this.setState({\n            todos: data\n          })\n        }\n      );\n  }\n  onChangeCheckbox = (_id) => {\n    const updatedTodosArr = this.state.todos.map(todo => {\n      if (todo._id === _id) {\n        todo.completed = !todo.completed;\n      }\n      return todo;\n    })\n    this.setState({\n      todos: updatedTodosArr\n    });\n    axios.put(`${link}/${_id}`, { completed: true, endTime: new Date() })\n      .then(\n        response => {\n          axios.get(link)\n            .then(\n              response => {\n                let data = response.data\n                this.setState({\n                  todos: data,\n                  isLoading: false\n                })\n              }\n            );\n        }\n      );\n\n  }\n\n  deleteTodoHandler = (_id) => {\n    this.setState({ isLoading: true });\n    axios.delete(`${link}/${_id}`)\n      .then(\n        response => {\n          const deleteTodosArr = this.state.todos.filter(todo => todo._id !== response.data._id)\n          this.setState({\n            todos: deleteTodosArr,\n            isLoading: false\n          })\n        }\n      );\n  }\n  addTodo = (newItem) => {\n    this.setState({ isLoading: true });\n    let newItemUpdate = {\n      title: newItem,\n      completed: false,\n      comment: \"\"\n    }\n    axios.post(link, { ...newItemUpdate })\n      .then(\n        response => {\n          axios.get(link)\n            .then(\n              response => {\n                let data = response.data\n                this.setState({\n                  todos: data,\n                  isLoading: false\n                })\n              }\n            );\n        }\n      );\n  }\n  deleteAll = (_id) => {\n    this.state.todos.map(todo => {\n      this.setState({ isLoading: true });\n      axios.delete(`${link}/${todo._id}`)\n        .then(\n          response => {\n            const deleteTodosArr = this.state.todos.filter(todo => todo._id !== response.data._id)\n            this.setState({\n              todos: deleteTodosArr,\n              isLoading: false\n            })\n          }\n        );\n      return todo;\n    })\n  }\n  statsAll = () => {\n    let allTask = this.state.todos.length\n    return allTask;\n  }\n  statsSuccess = () => {\n    let successTask = 0;\n    this.state.todos.map(todo => {\n      if (todo.completed) {\n        successTask += 1\n      }\n      return successTask\n    })\n    return successTask\n  }\n  onChangeContainer = () => {\n\n\n  }\n  render() {\n    return (\n      <div className=\"container\" style={this.state.isLoading ? { opacity: 0.3 } : null}>\n        <Header />\n        < Stats\n          statsAll={this.statsAll}\n          statsSuccess={this.statsSuccess}\n        />\n        <Form addTodo={this.addTodo} />\n        <ul>\n          {\n            this.state.todos.map(todo => (\n              <TodoItem\n                key={todo._id}\n                _id={todo._id}\n                title={todo.title}\n                completed={todo.completed}\n                handleChange={this.onChangeCheckbox}\n                deleteTodoHandler={this.deleteTodoHandler}\n              />\n            ))\n          }\n        </ul>\n        <DeleteAll deleteAll={this.deleteAll} />\n      </div>\n    );\n  }\n}\n\nexport default TodoContainer;\n"]},"metadata":{},"sourceType":"module"}